/* === Fonts === */
@import url('https://fonts.googleapis.com/css2?family=Iceberg&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Zen+Tokyo+Zoo&display=swap');

/* === Theme tokens === */
:root{
  --bg:#0a0d1a;
  --panel:rgba(12,14,24,.20);
  --border:rgba(185,205,255,.14);
  --text:#e8ecf7;
  --muted:#a3a9ba;
  --accent:#9ec1ff;

  --font:"Iceberg",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  --maxw:1100px;
  --space:1.25rem;
}

/* === Base === */
*{box-sizing:border-box}
html{-webkit-text-size-adjust:100%;text-size-adjust:100%;scroll-behavior:smooth}
body{margin:0;color:var(--text);background:var(--bg);font:400 16px/1.65 var(--font);letter-spacing:.01em}
.container{width:min(100% - 2rem,var(--maxw));margin-inline:auto}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.muted{color:var(--muted)}

/* =========================
   Header (title / blurb / menu)
   ========================= */
.site-header{
  display:grid;
  grid-template-columns:1fr;
  grid-template-rows:auto auto auto;
  row-gap:.30rem;
  align-items:center;
  margin:calc(var(--space)*1.2) auto var(--space);
}
.site-title{
  justify-self:start;display:block;margin:0;
  font-family:"Zen Tokyo Zoo",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  font-weight:400;color:#fff;font-size:clamp(1.6rem,3.6vw,2.2rem);line-height:1.1;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.site-title:visited{color:#fff}
.site-header::after{
  content:"Where words don't get lost.";
  grid-row:2;justify-self:start;color:var(--muted);
  font-weight:400;font-size:clamp(.95rem,1.8vw,1.05rem);line-height:1.1;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.site-intro{display:none !important}
.site-nav{grid-row:3;display:flex;flex-wrap:wrap;align-items:center;gap:.15rem .40rem}
.site-nav a{color:var(--muted);padding:.40rem .55rem;border:1px solid transparent}
.site-nav a:hover{color:#fff;border-color:var(--border);background:rgba(255,255,255,.06)}
.nav-dropdown{position:relative;display:inline-block}
.nav-submenu--row{
  display:none;position:absolute;top:100%;left:0;z-index:10;min-width:12rem;
  background:rgba(8,10,18,.95);border:1px solid var(--border);border-radius:.5rem;padding:.4rem;
  box-shadow:0 16px 40px rgba(0,0,0,.6)
}
.nav-submenu--row a{display:block;padding:.5rem .6rem;font-size:1rem}
.nav-dropdown:hover .nav-submenu--row{display:flex;flex-direction:column}
.site-nav a[href$="about.html"]{
  font-family:"Zen Tokyo Zoo",var(--font);font-size:1.05rem;color:#fff;
  padding:.32rem .62rem;border:1px solid rgba(185,205,255,.28);background:transparent;box-shadow:none;
}

/* =======================
   Lists (home & categories)
   ======================= */
.list-heading{color:var(--muted);margin:0 0 .6rem;letter-spacing:.02em}
.posts-grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}
.post-card{
  background:var(--panel);border:1px solid var(--border);padding:1rem;border-radius:0;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;text-decoration:none
}
.post-card:hover,.post-card:focus-within{
  transform:translateY(-2px);border-color:rgba(158,193,255,.30);box-shadow:0 16px 48px rgba(0,0,0,.55)
}
.post-title{margin:0 0 .35rem;font-weight:600;font-size:1.08rem;line-height:1.2}
.post-title a{color:var(--text)}
.post-time{color:var(--muted);font-size:.9em;display:block}
.post-meta{color:var(--muted);margin:.35rem 0 0;font-size:.92em}
.post-card *{word-break:normal;overflow-wrap:anywhere}

/* =================
   Article page grid
   ================= */
.page-main{width:min(100% - 2rem,var(--maxw));margin-inline:auto}
article.post-card{display:block}

/* UNIVERSAL tidy reading */
.post-body{font-size:1.02rem}
.post-body p{
  margin:.9rem 0;text-indent:.8em;text-align:justify;text-justify:inter-word;hyphens:auto;
}
.post-body p:first-of-type,.post-body h2 + p,.post-body h3 + p{ text-indent:0 }

/* Blockquotes */
.post-body blockquote{
  margin:1.25rem 0;padding:.7rem .95rem 1rem 1rem;background:rgba(12,14,24,.18);
  border:1px solid var(--border);position:relative;border-left:4px solid rgba(158,193,255,.35)
}
.post-body blockquote::before,.post-body blockquote::after{
  position:absolute;font-size:2.6rem;line-height:1;color:rgba(158,193,255,.35);
  font-family:Georgia,"Times New Roman",Times,serif
}
.post-body blockquote::before{content:"“";left:-.35rem;top:-.6rem}
.post-body blockquote::after{content:"”";right:.35rem;bottom:-.9rem}

/* Similar reads */
.similar-reads{margin-top:1.25rem;padding:.75rem;background:var(--panel);border:1px solid var(--border)}
.similar-reads h2{margin:0 0 .5rem 0;font-size:1.05rem;color:var(--muted)}
#similar-list{display:grid;gap:.5rem}
.similar-card{
  display:flex;flex-direction:column;gap:.1rem;padding:.55rem .6rem;border:1px solid var(--border);
  background:rgba(10,12,22,.22);text-decoration:none;color:var(--text)
}
.similar-card:hover{border-color:rgba(158,193,255,.35)}
.similar-card strong{font-size:.98rem}
.similar-card span{color:var(--muted);font-size:.88rem}

/* Footer */
.site-footer{margin:1.25rem auto}
.site-footer p{margin:0 0 .25rem 0;color:var(--muted)}
.site-footer small{color:var(--muted)}

/* Typewriter cursor */
.typer{border-right:2px solid rgba(255,255,255,.85)}
.caret-done{border-right-color:transparent}

/* === Global image caps === */
.post-body img,.figure img{
  display:block;max-width:680px;width:100%;height:auto;max-height:420px;
  object-fit:contain;margin:0 auto;border:1px solid var(--border);background:rgba(0,0,0,.25)
}

/* === Home banner background === */
body.home{
  background:
    linear-gradient(180deg, rgba(10,13,26,.50), rgba(10,13,26,.50)),
    url("../img/banner.jpg") center / cover no-repeat fixed;
}

/* === Home: posts start after one viewport === */
body.home .home-posts{ margin-top:100vh; }   /* <— keep the original effect */
body.home .post-card{ background:rgba(12,14,24,.32); border-color:rgba(185,205,255,.20); }

/* === Anthems (hero strip above posts) === */
.anthems-hero{ margin:1.25rem auto 0; }
.anthems-hero .inner{
  display:flex; justify-content:flex-end;   /* right-aligned */
}
.anthem-card{
  width:min(100%, 420px);
  font-style:italic;
  background:rgba(14,16,28,.95);
  border:1px solid rgba(185,205,255,.50);
  padding:1rem 1.1rem;
}
.anthem-card .feature-title{ margin:0 0 .6rem; font-style:italic; }
.anthem-card .feature-title::before{content:"♫ "; opacity:.9}
.anthem-card .feature-title::after{content:" ♪"; opacity:.9}
.anthems-list{display:grid;gap:.6rem}
.anthem-item{display:flex;align-items:center;gap:.65rem}
.anthem-btn{
  font-style:normal; /* buttons stay readable */
  border:1px solid var(--border);background:rgba(12,14,24,.4);color:var(--text);
  padding:.45rem .7rem;border-radius:.35rem;cursor:pointer;font:inherit
}
.anthem-btn:hover{border-color:rgba(158,193,255,.45)}
.anthem-title{opacity:0;transition:opacity .35s ease;color:var(--muted)}
.anthem-title.show{opacity:1}
.now-playing{color:#fff}

/* Reveal animation for post cards */
.reveal-card{opacity:0; transform:translateY(22px); transition:opacity .5s ease-out, transform .5s ease-out; will-change:opacity,transform;}
.reveal-card.is-visible{ opacity:1; transform:translateY(0); }
