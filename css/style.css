/* === Iceberg + big transparent banner + 3-post grid hovering over fade === */
@import url('https://fonts.googleapis.com/css2?family=Iceberg&display=swap');

/* Tokens */
:root{
  --bg:#000;                          /* true black base */
  --glass: rgba(8,10,18,.24);         /* translucent */
  --panel: rgba(10,12,22,.30);        /* post cards transparency */
  --border: rgba(185,205,255,.16);    /* cool, subtle border */
  --text:#e8ecf7;
  --muted:#a3a9ba;
  --accent:#9ec1ff;

  --font:"Iceberg", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  --base:16px;
  --leading:1.7;
  --maxw:1100px;
  --space:1rem;
}

/* Base */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; color:var(--text);
  background: var(--bg);
  font: 400 var(--base)/var(--leading) var(--font);
  letter-spacing:.01em;
}
.container{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto }
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }
a:visited{ color:var(--accent) }
.muted{ color:var(--muted) }

/* Header / nav */
.site-header{
  display:flex; align-items:center; justify-content:space-between;
  margin: calc(var(--space)*1.4) auto var(--space);
}
.site-title{
  color:#fff; text-decoration:none; font-weight:700;
  font-size: clamp(1.8rem, 5vw, 3.2rem);
  letter-spacing:.015em;
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
}
.site-nav a{
  color:var(--muted); padding:.6rem .75rem; border:1px solid transparent;
}
.site-nav a:hover{ color:#fff; border-color:var(--border); background:rgba(255,255,255,.06) }
.nav-dropdown{ position:relative; display:inline-block }
.nav-submenu--row{
  display:none; position:absolute; top:100%; left:0; z-index:10;
  min-width:16rem; padding:.6rem; gap:.35rem;
  background: rgba(10,12,22,.75); border:1px solid var(--border);
  backdrop-filter: blur(2px);
}
.nav-submenu--row a{ display:block; padding:.5rem .6rem; font-size:1rem }
.nav-dropdown:hover .nav-submenu--row{ display:flex; flex-direction:column }

/* Intro (single line under the title) */
.site-intro{ margin: 0 auto .75rem }
.site-intro p{
  margin:0; max-width: 60ch; color:var(--text);
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* Big transparent banner that scrolls with page */
.hero-banner{
  position: relative;
  height: 82vh;                 /* fills almost whole page */
  overflow: hidden;
  border-bottom: 1px solid var(--border);
}
.hero-media{
  position: absolute; inset: 0;
  background-image: url("../img/banner.jpg");
  background-size: cover;       /* minimal crop while filling width */
  background-position: center top;
  background-repeat: no-repeat;
  opacity: .86;                 /* slightly more opaque background */
  filter: brightness(.88) contrast(.92) saturate(.9); /* lower contrast */
}
/* Subtle dark overlay (top) */
.hero-banner::before{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg,
    rgba(0,0,0,.18) 0%,
    rgba(0,0,0,.14) 40%,
    rgba(0,0,0,.10) 65%
  );
  pointer-events:none;
}
/* Taper at bottom so posts are clear */
.hero-banner::after{
  content:""; position:absolute; left:0; right:0; bottom:0;
  height: 22vh;
  background: linear-gradient(to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,.34) 55%,
    rgba(0,0,0,.68) 80%,
    #000 100%
  );
  pointer-events:none;
}

/* Posts overlap the banner bottom (hover effect) */
.posts-wrap{
  position: relative;
  margin-top: -16vh;            /* pulls posts up over the taper */
  padding-top: 2vh;             /* breathing room above cards */
  margin-bottom: 2rem;
}

/* 3-post responsive grid (no horizontal scroll) */
.post-grid{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.1rem;
}
@media (max-width: 900px){
  .post-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 620px){
  .post-grid{ grid-template-columns: 1fr; }
}

/* Floating glass cards */
.post-card{
  background: var(--panel);
  border: 1px solid var(--border);
  backdrop-filter: blur(2px) saturate(110%);
  padding: 1rem;
  box-shadow: 0 10px 32px rgba(0,0,0,.45);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.post-card:hover, .post-card:focus-within{
  transform: translateY(-2px);
  border-color: rgba(158,193,255,.35);
  box-shadow: 0 16px 48px rgba(0,0,0,.6);
}
.list-heading{ color:var(--muted); margin:0 0 .6rem; letter-spacing:.02em }
.post-title{ margin:0 0 .35rem; font-weight:600; font-size:1.08rem }
.post-title a{ color:var(--text) }
.post-time{ color:var(--muted); font-size:.9em; display:block }
.post-meta{ color:var(--muted); margin:.3rem 0 0; font-size:.9em }

/* Footer */
.site-footer{ margin: 1.25rem auto }
.site-footer p{ margin:0 0 .25rem 0; color: var(--muted) }
.site-footer small{ color: var(--muted) }

/* Post content helpers (for article pages) */
.post-body{ font-size:1.02rem }
.post-body p{ margin:.9rem 0; text-indent:.8em }
.post-body p:first-of-type,.post-body h2 + p,.post-body h3 + p{ text-indent:0 }
.post-body blockquote{
  margin:1.25rem 0; padding:.7rem .95rem;
  background: var(--panel); border:1px solid var(--border);
}


/* === Normalize internal pages to match the home header/footer === */

/* Make the whole page a column so the footer drops to the bottom on short pages */
html, body { height: 100%; }
body{ min-height: 100dvh; display: flex; flex-direction: column; }
.page-main{ flex: 1; }

/* Ensure headers are centered exactly like the home page,
   even if a page forgot the .container class */
.site-header{
  width: min(100% - 2rem, var(--maxw));
  margin: calc(var(--space) * 1.4) auto var(--space);
}

/* Extra safety: if a page still lacks .container on the header, add a tiny gutter */
.site-header:not(.container){ padding-inline: 0; }

/* Keep the dropdown panel comfortable on all pages */
.site-nav a{ font-size: 1.05rem; padding: .6rem .75rem; }
.nav-submenu--row{
  min-width: 16rem; padding: .6rem; gap: .35rem;
  background: rgba(10,12,22,.75);
  border: 1px solid var(--border);
  backdrop-filter: blur(2px);
}
.nav-submenu--row a{ display:block; padding:.5rem .6rem; font-size:1rem; }
.nav-dropdown:hover .nav-submenu--row{ display:flex; flex-direction:column; }



/* === Full-page transparent layout over a darker background image === */

/* 1) Use the image as the global page background (darker) */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  background:
    /* darken + add contrast control */
    linear-gradient(180deg,
      rgba(0,0,0,.58) 0%,
      rgba(0,0,0,.62) 28%,
      rgba(0,0,0,.68) 55%,
      rgba(0,0,0,.78) 100%
    ),
    url("../img/banner.jpg");
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
}

/* 2) If a hero-banner section still exists, hide it so the title sits on the bg */
.hero-banner, .hero-media { display: none !important; }

/* 3) Keep header/title exactly where it was (no boxes, no backgrounds) */
.site-header{ margin: calc(var(--space)*1.4) auto var(--space); }
.site-title{ color:#fff; text-shadow: 0 1px 2px rgba(0,0,0,.45); }

/* 4) Posts hover transparently over the background (tune transparency here) */
:root{
  --panel: rgba(10,12,22,.22);     /* more transparent than before */
  --border: rgba(185,205,255,.12); /* softer border */
}

/* Make sure nothing adds its own opaque background */
.container, .site-intro, .posts-wrap, .site-footer { background: transparent; }

/* Reset any previous “overlap the banner” offsets so spacing feels natural */
.posts-wrap{ margin-top: 0; padding-top: 0; }

/* Post cards: glassy hover without heavy shadows */
.post-card{
  background: var(--panel);
  border: 1px solid var(--border);
  backdrop-filter: blur(2px) saturate(110%);
  box-shadow: 0 8px 28px rgba(0,0,0,.40);
}
.post-card:hover, .post-card:focus-within{
  transform: translateY(-2px);
  border-color: rgba(158,193,255,.30);
  box-shadow: 0 14px 40px rgba(0,0,0,.55);
}

/* Footer stays at bottom on short pages */
html, body { height: 100%; }
body{ min-height: 100dvh; display:flex; flex-direction:column; }
.page-main, .posts-wrap{ flex: 1; }



/* === Full-size, uncropped hero image that determines page height === */

/* Stop using the fixed background */
body::before, body::after { content: none !important; }

/* The hero image sits in normal flow and sets its own height */
.full-hero{
  position: relative;
  margin: 0;           /* no gaps above the image */
  line-height: 0;      /* avoid extra space under images */
}
.full-hero img{
  display: block;
  width: 100%;
  height: auto;        /* <-- keeps original aspect ratio, no cropping */
}

/* Soft taper at the bottom so cards read clearly */
.full-hero::after{
  content: "";
  position: absolute; left: 0; right: 0; bottom: 0;
  height: min(22vh, 260px);
  background: linear-gradient(to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,.35) 55%,
    rgba(0,0,0,.70) 80%,
    #000 100%
  );
  pointer-events: none;
}

/* Posts hover over the bottom of the image */
.posts-wrap{
  position: relative;
  margin-top: clamp(-14vh, -12vw, -120px);  /* slight overlap; adjust to taste */
  padding-top: 1rem;
}

/* Make the background around everything else a bit darker */
:root{
  --panel: rgba(10,12,22,.24);
  --border: rgba(185,205,255,.12);
}
.post-card{
  background: var(--panel);
  border: 1px solid var(--border);
  backdrop-filter: blur(2px) saturate(110%);
  box-shadow: 0 10px 32px rgba(0,0,0,.45);
}
.post-card:hover, .post-card:focus-within{
  transform: translateY(-2px);
  border-color: rgba(158,193,255,.30);
  box-shadow: 0 16px 48px rgba(0,0,0,.6);
}

/* Keep footer pushed to bottom on short pages */
html, body { height: 100%; }
body{ min-height: 100dvh; display:flex; flex-direction:column; }
.posts-wrap { flex: 1; }


/* Title is always white, all states, all pages */
.site-title,
.site-title:link,
.site-title:visited,
.site-title:hover,
.site-title:active{
  color:#fff !important;
  text-decoration:none;
}



/* Show the entire hero image; posts start AFTER it */
body::before, body::after{ content:none !important; }  /* ensure no fixed bg */

.full-hero{ margin:0; line-height:0; }    /* hero image controls its own height */
.full-hero img{ display:block; width:100%; height:auto; } /* no cropping */

/* Keep the soft taper on the bottom of the hero only */
.full-hero::after{
  content:"";
  position:absolute; left:0; right:0; bottom:0;
  height:min(18vh,220px);
  background:linear-gradient(to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,.28) 55%,
    rgba(0,0,0,.60) 85%,
    #000 100%
  );
  pointer-events:none;
}

/* Posts no longer overlap the image — they start below it */
.posts-wrap{
  position:relative;
  margin-top:0 !important;
  padding-top:1.25rem;
}

