/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Girassol&family=Stardos+Stencil:wght@400;700&family=Cinzel:wght@400;600;700&display=swap');

/* ---------- Tokens ---------- */
:root{
  --bg: #0b0e10;
  --ink: #e8e6e3;
  --ink-dim: #cfcac3;
  --stroke: #232831;

  --sidebar-top: #0d0f1a;
  --sidebar-bot: #0a0d12;

  --shadow: 0 10px 30px rgba(0,0,0,.45);
  --r2: 14px;

  --border: var(--stroke);
  --muted: var(--ink-dim);
}

/* ---------- Base ---------- */
*{ box-sizing:border-box }
html,body{
  margin:0; padding:0; background:var(--bg); color:var(--ink);
  font:18px/1.7 'Stardos Stencil', system-ui, serif;
}
a{ color:var(--ink); text-decoration:none }
a:hover{ text-decoration:underline }
img{ max-width:100%; display:block }
hr{ border:0; height:1px; background:var(--stroke) }

/* ---------- Titles ---------- */
.site-title{
  font-family:'Girassol', system-ui, serif;
  font-size: clamp(28px, 5vw, 46px);
  line-height:1.1; margin:0;
  text-shadow:0 0 .5px var(--ink), 0 0 24px rgba(0,0,0,.55);
}

/* ---------- Layout ---------- */
.layout{ display:grid; grid-template-columns:280px 1fr; min-height:100vh; }

/* SIDEBAR: image + your exact overlay alphas (0.38 / 0.45) */
.sidebar{
  position:sticky; top:0; height:100vh; overflow-y:auto;
  background:
    url('../img/sidebar-image.jpg') center top / 100% auto repeat-y,
    linear-gradient(180deg, rgba(16,18,22,0.38), rgba(10,12,16,0.45));
  background-blend-mode: multiply;
  border-right:1px solid var(--stroke);
  box-shadow: inset 0 0 24px rgba(0,0,0,.35);
  padding:22px 18px 28px;
}
.sidebar nav h3{
  font-size:12px; color:var(--ink-dim);
  letter-spacing:.08em; margin:18px 0 8px;
}
.sidebar nav ul{ list-style:none; margin:0; padding:0 }
.sidebar nav li{ margin:2px 0 }
.sidebar nav a, .sidebar .nav-parent{
  display:block; padding:5px 8px; border-radius:8px; border:1px dashed transparent;
}
.sidebar nav a:hover, .sidebar nav a:focus-visible, .sidebar .nav-parent:hover{
  border-color:var(--stroke); background:rgba(255,255,255,.03); outline:none;
}

/* Ensure submenu never shows bullets */
.sidebar .nav-submenu{ list-style:none !important; margin:4px 0 0 12px; padding:0 }

/* Hover-only submenu: parent is NOT a link */
.has-submenu > .nav-submenu{ display:none; }
.has-submenu:hover > .nav-submenu{ display:block }
.nav-parent{ cursor:default }

/* ---- Sidebar search (clear & high-contrast) ---- */
.sidebar-search{ margin:12px 0 10px; }
.sidebar-search input[type="search"]{
  width:100%;
  height: 36px;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid rgba(232,230,227,.70);
  background: rgba(0,0,0,.65);       /* darker field for contrast */
  color: var(--ink);
  outline: none;
  backdrop-filter: blur(2px);
}
.sidebar-search input::placeholder{
  color: rgba(232,230,227,.80);
}
.sidebar-search input:focus{
  border-color: #ffffff;
  box-shadow: 0 0 0 2px rgba(255,255,255,.18);
  background: rgba(0,0,0,.78);
}

.main{ min-height:100vh; overflow:hidden }

/* ---------- Home hero ---------- */
.hero{
  min-height: 62vh;
  background:url('../img/index-background.jpg') center/cover no-repeat fixed;
  border-bottom:1px solid var(--stroke);
}

/* ---------- Containers / cards ---------- */
.container{ width:min(1100px, 100% - 40px); margin:0 auto }
.section{ padding:28px 0 }
.posts-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:16px; }

.post-card,.feature-card,.anthem-card{
  background: transparent;
  border:1px dashed var(--stroke);
  border-radius:var(--r2);
  padding:14px;
  box-shadow:none;
}


/* Post-card background image support */
.post-card{ position: relative; overflow: hidden; }
.post-card::before{
  content: "";
  position: absolute; inset: -1px;
  border-radius: inherit;
  background-image: var(--card-img, none);
  background-size: cover;
  background-position: center;
  opacity: .28;
  z-index: 0;
}
.post-card > *{ position: relative; z-index: 1; }



.card{
  background:linear-gradient(180deg,#0d1116,#0a0d11);
  border:1px dashed var(--stroke); border-radius:var(--r2); padding:14px; box-shadow:var(--shadow);
}
.post-time,.post-meta{ color:var(--ink-dim) }
.post-body p,.post-card p,.card p{ text-align: justify }



/* ---------- About (Vat-brain) ---------- */
.about-upper{
  background: url('../img/about-upper.jpg') center/cover no-repeat fixed;
  border-bottom:1px solid var(--stroke);
}
.about-grid{
  display:grid; grid-template-columns: repeat(6, 1fr); grid-auto-rows: 1fr;
  gap:0; border:1px solid var(--stroke);
}
.about-cell{
  border-right:1px solid var(--stroke);
  border-bottom:1px solid var(--stroke);
  padding:16px;
  background: rgba(13,17,22,0.62);
  backdrop-filter: blur(1px);
}
.about-cell h4{ margin:0 0 10px; font-size:16px; letter-spacing:.08em }

.span-1{ grid-column: span 1 } .span-2{ grid-column: span 2 } .span-3{ grid-column: span 3 }
.span-4{ grid-column: span 4 } .span-6{ grid-column: span 6 }
.tall-2{ grid-row: span 2 }

/* Notes column: fully transparent */
.notes-cell{
  background: transparent;
  border-right:1px solid transparent;
  border-bottom:1px solid transparent;
}

/* Personal Anthems (decluttered) */
.anthem-player h4{ margin:0 0 8px; font-size:16px; letter-spacing:.08em }
.anthem-list{ list-style:none; margin:8px 0 10px; padding:0 }
.anthem-list li{ margin:6px 0; }
.anthem-list button{
  font:inherit; padding:4px 8px;
  border:1px dashed var(--stroke); border-radius:8px;
  background:transparent; color:var(--ink); cursor:pointer;
}
.anthem-list button:hover{ background:rgba(255,255,255,.03) }
.anthem-audio{ width:100%; margin-top:6px }

/* Full-screen banner: dimmer & centered relative to main (offset 140px for 280px sidebar) */
.about-banner{
  position:relative; height: 100vh;
  background:url('../img/banner.jpg') no-repeat fixed;
  background-size: cover;
  background-position: calc(50% + 140px) center;
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);
          mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);
  margin:0;
}
.about-banner::after{ content:""; position:absolute; inset:0; background: rgba(0,0,0,.38); }

/* ---------- Responsive ---------- */
@media (max-width: 900px){
  .layout{ grid-template-columns:1fr }
  .sidebar{ position:relative; height:auto; border-right:none; border-bottom:1px solid var(--stroke) }
  .about-grid{ grid-template-columns: repeat(2, 1fr) }
  .about-banner{ background-position:center }
}
@media (max-width: 520px){
  .about-grid{ grid-template-columns: 1fr }
}


/* ===== Interlude module ===== */
:root{
  --inter-gap: clamp(10px, 2vw, 24px);
  --inter-col-w: 260px;
  --inter-center-w: min(56vw, 720px);
  --inter-tab-h: 28px;
  --inter-tab-gap: 6px;
  --inter-load-gap: 8px;
}

/* outer section */
.interlude{ position:relative; min-height:240vh; padding-block:12vh 24vh; overflow:visible; }

/* three columns */
.interlude-grid{
  position:relative; display:grid;
  grid-template-columns: var(--inter-col-w) 1fr var(--inter-col-w);
  align-items:start; gap: var(--inter-gap);
  max-width:min(1300px, 92vw); margin-inline:auto;
}

/* center media stays put */
.center-wrap{ position:sticky; top:14vh; display:grid; place-items:center; align-self:start; height:min(70vh, 720px); }
.center-media{ width: var(--inter-center-w); max-width:100%; max-height:100%; object-fit:cover; border-radius:10px; box-shadow: var(--shadow); background:#000; }

/* left: old-web tabs climbing upward */
.left-rail{ position:relative; min-height:120vh; }
.tab-stack{ position:sticky; top:20vh; display:flex; flex-direction:column-reverse; gap: var(--inter-tab-gap); padding-right:6px; }
.tab{
  height: var(--inter-tab-h); display:inline-flex; align-items:center; gap:8px; padding:0 10px;
  width: clamp(120px, 18vw, var(--inter-col-w)); background:#dfdfdf; color:#000; border:1px solid #9b9b9b;
  box-shadow: inset 0 1px 0 #fff, inset 1px 0 0 #fff, inset 0 -1px 0 #6b6b6b, inset -1px 0 0 #6b6b6b;
  font-size:13px; font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; user-select:none;
}
.tab::before{ content:"•"; color:#0033cc; font-weight:900; }

/* right: straight “Loading” list going downward */
.right-rail{ position:relative; }
.loading-stack{ position:sticky; top:20vh; display:flex; flex-direction:column; gap: var(--inter-load-gap); padding-left:10px; border-left:2px dotted #c9c9c9; }
.loading-item{ font-family: "Courier New", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:14px; letter-spacing:.08em; text-transform:uppercase; opacity:.85; }
.loading-item span{ display:inline-block; animation: inter-blink 1200ms steps(2, jump-none) infinite; }
@keyframes inter-blink { 50% { opacity:.35 } }

/* responsive */
@media (max-width: 980px){
  .interlude-grid{ grid-template-columns: 1fr; }
  .left-rail, .right-rail{ display:none; }
  .center-wrap{ top:10vh; }
  .interlude{ min-height:160vh; }
}

