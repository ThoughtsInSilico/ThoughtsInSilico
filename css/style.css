/* === Base fonts === */
@import url('https://fonts.googleapis.com/css2?family=Iceberg&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Zen+Tokyo+Zoo&display=swap');

:root{
  --bg: #0a0d1a;
  --panel: rgba(12,14,24,.20);
  --border: rgba(185,205,255,.14);
  --text: #e8ecf7;
  --muted:#a3a9ba;
  --accent:#9ec1ff;

  --font: "Iceberg", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --maxw: 1040px;
  --space: 1.25rem;
}

*{ box-sizing: border-box }
html{ -webkit-text-size-adjust:100%; text-size-adjust:100% }
body{
  margin:0; color:var(--text);
  background: var(--bg);
  font: 400 16px/1.65 var(--font);
  letter-spacing:.01em;
}

/* Layout helpers */
.container{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto }
.muted{ color:var(--muted) }
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }

/* =========================
   Header / nav (2-row nav)
   ========================= */
.site-header{
  display:block;
  margin: calc(var(--space)*1.2) auto var(--space);
}

/* Title size */
.site-title{
  font-family: "Zen Tokyo Zoo", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
  font-weight: 400;
  color:#fff; text-decoration:none;
  font-size: clamp(1.6rem, 4.2vw, 2.8rem);
  line-height: 1.1;
  letter-spacing:.01em;
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
  display:inline-block;
}
.site-title:visited{ color:#fff }

/* NAV AS GRID:
   Row 1 → centered BOOK REVIEWS with decorative lines
   Row 2 → the rest (About at the far left)
*/
.site-nav{
  display:grid;
  grid-template-rows: auto auto;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  align-items:center;
  justify-content:start;
  gap: .25rem .25rem;
  margin-top: .6rem;
}

/* default links (row 2) */
.site-nav a{
  color:var(--muted); padding:.6rem .75rem; border:1px solid transparent;
  grid-row: 2;
}
.site-nav a:hover{ color:#fff; border-color:var(--border); background:rgba(255,255,255,.06) }

/* Dropdown (row 2) */
.nav-dropdown{ position:relative; display:inline-block; grid-row:2 }
.nav-submenu--row{
  display:none; position:absolute; top:100%; left:0; z-index:10;
  min-width: 12rem; background: rgba(8,10,18,.95);
  border: 1px solid var(--border); border-radius:.5rem; padding:.4rem;
  box-shadow: 0 16px 40px rgba(0,0,0,.6);
}
.nav-submenu--row a{ display:block; padding:.5rem .6rem; font-size:1rem }
.nav-dropdown:hover .nav-submenu--row{ display:flex; flex-direction:column }

/* SPECIAL: Book Reviews centered with lines (row 1) */
.site-nav a[href*="cat=Book%20Reviews"]{
  grid-row: 1;
  grid-column: 1 / -1;     /* span full width */
  justify-self: center;
  color:#fff;
  padding:.35rem 1rem;
  position: relative;
  text-decoration:none;
  border: 1px solid transparent;
}
.site-nav a[href*="cat=Book%20Reviews"]:hover{ border-color:var(--border); background:rgba(255,255,255,.06) }
.site-nav a[href*="cat=Book%20Reviews"]::before,
.site-nav a[href*="cat=Book%20Reviews"]::after{
  content:"";
  display:inline-block;
  vertical-align: middle;
  width: min(18vw, 160px);
  border-top: 1px solid var(--border);
  margin: 0 .9rem;
  transform: translateY(-.15em);
}
@media (max-width: 520px){
  .site-nav a[href*="cat=Book%20Reviews"]::before,
  .site-nav a[href*="cat=Book%20Reviews"]::after{ width: 60px }
}

/* Put About at the far left (row 2), regardless of HTML order */
.site-nav a[href$="about.html"]{
  order:-1;            /* appears first on the row */
  justify-self:start;  /* stick to the left edge */
}

/* Intro line on home */
.site-intro{ margin: 0 auto .75rem }
.site-intro p{ margin:0; max-width: 60ch; color:var(--text); text-shadow: 0 1px 2px rgba(0,0,0,.35) }

/* =======================
   Posts list (home & cats)
   ======================= */
.list-heading{ color:var(--muted); margin:0 0 .6rem; letter-spacing:.02em }
.posts-grid{
  display:grid; gap: 1rem;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}
.post-card{
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 1rem;
  /* square corners on lists are fine; if you also want them square, uncomment:
  border-radius:0;
  */
  border-radius: .75rem;
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  text-decoration: none;
}
.post-card:hover, .post-card:focus-within{
  transform: translateY(-2px);
  border-color: rgba(158,193,255,.30);
  box-shadow: 0 16px 48px rgba(0,0,0,.55);
}
.post-title{ margin:0 0 .35rem; font-weight:600; font-size:1.08rem; line-height:1.2 }
.post-title a{ color:var(--text) }
.post-time{ color:var(--muted); font-size:.9em; display:block }
.post-meta{ color:var(--muted); margin:.35rem 0 0; font-size:.92em }
.post-card *{ word-break: normal; overflow-wrap: anywhere; }

/* =================
   Article page bits
   ================= */
.page-main{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto }
article.post-card{ display:block; border-radius:0; }   /* ③ square corners on post pages */
.post-body{ font-size:1.02rem }
.post-body p{ margin:.9rem 0; text-indent: .8em; }
.post-body p:first-of-type,.post-body h2 + p,.post-body h3 + p{ text-indent:0 }

/* Blockquotes: big quotes & left line */
.post-body blockquote{
  margin:1.25rem 0; padding:.7rem .95rem 1rem 1rem;
  background: rgba(12,14,24,.18); border:1px solid var(--border);
  position:relative; border-left: 4px solid rgba(158,193,255,.35);
}
.post-body blockquote::before, .post-body blockquote::after{
  position:absolute; font-size: 2.6rem; line-height:1;
  color: rgba(158,193,255,.35);
  font-family: Georgia, "Times New Roman", Times, serif;
}
.post-body blockquote::before{ content:"“"; left:-.35rem; top:-.6rem; }
.post-body blockquote::after{ content:"”"; right:.35rem; bottom:-.9rem; }

/* Similar reads (square corners too) */
.similar-reads{ margin-top:1.25rem; padding:.75rem; background:var(--panel); border:1px solid var(--border); border-radius:0; }
.similar-reads h2{ margin:0 0 .5rem 0; font-size:1.05rem; color:var(--muted) }
#similar-list{ display:grid; gap:.5rem }
.similar-card{
  display:flex; flex-direction:column; gap:.1rem;
  padding:.55rem .6rem; border:1px solid var(--border); border-radius:0;
  background: rgba(10,12,22,.22); text-decoration:none; color:var(--text);
}
.similar-card:hover{ border-color: rgba(158,193,255,.35) }
.similar-card strong{ font-size:.98rem }
.similar-card span{ color:var(--muted); font-size:.88rem }
@media (min-width: 980px){
  .post-card.post-layout{
    display:grid; grid-template-columns: 1fr minmax(260px, 320px); gap: 1rem;
  }
  .post-card.post-layout > h1,
  .post-card.post-layout > time,
  .post-card.post-layout > .post-body{ grid-column: 1; }
  .post-card.post-layout > .similar-reads{ grid-column: 2; align-self: start; position: sticky; top: 1rem; }
}

/* Footer */
.site-footer{ margin: 1.25rem auto }
.site-footer p{ margin:0 0 .25rem 0; color: var(--muted) }
.site-footer small{ color: var(--muted) }

/* Typewriter effect
   ② allow multi-line titles to finish rendering (no clipping) */
.typer{
  border-right: 2px solid rgba(255,255,255,.85);
  white-space: normal;     /* was nowrap */
  overflow: visible;       /* was hidden */
}
.caret-done{ border-right-color: transparent }
