/* === Base fonts === */
@import url('https://fonts.googleapis.com/css2?family=Iceberg&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Zen+Tokyo+Zoo&display=swap');

:root{
  --bg: #0a0d1a;
  --panel: rgba(12,14,24,.20);
  --border: rgba(185,205,255,.14);
  --text: #e8ecf7;
  --muted:#a3a9ba;
  --accent:#9ec1ff;

  --font: "Iceberg", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --maxw: 1100px;
  --space: 1.25rem;
}

*{ box-sizing: border-box }
html{ -webkit-text-size-adjust:100%; text-size-adjust:100% }
body{
  margin:0; color:var(--text);
  background: var(--bg);
  font: 400 16px/1.65 var(--font);
  letter-spacing:.01em;
}

.container{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto }
.muted{ color:var(--muted) }
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }

/* =========================
   CONSISTENT HEADER (all pages)
   layout: [title | about] on Row 1
           [menu           ] on Row 2
           [blurb          ] on Row 3
   ========================= */
.site-header{
  display:grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto auto auto;
  align-items:end;
  column-gap: 1rem;
  row-gap: .35rem;
  margin: calc(var(--space)*1.2) auto var(--space);
}

/* title (Row 1, Col 1) */
.site-title{
  grid-row:1; grid-column:1;
  font-family: "Zen Tokyo Zoo", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
  font-weight: 400;
  color:#fff; text-decoration:none;
  font-size: clamp(1.6rem, 4.2vw, 2.8rem);
  line-height: 1.1;
  letter-spacing:.01em;
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
  display:inline-block;
}
.site-title:visited{ color:#fff }

/* nav container lives on the right side (Row 1-2, Col 2) */
.site-nav{
  grid-row: 1 / span 2; grid-column: 2;
  display:grid;
  grid-template-rows: auto auto;   /* Row 1: About, Row 2: Menu */
  grid-auto-flow: column;
  align-content:end;
  align-items:center;
  gap:.2rem;
}

/* About (Row 1 of the nav grid, next to title) */
.site-nav a[href$="about.html"]{
  grid-row:1;
  justify-self:start;
  font-family:"Zen Tokyo Zoo", var(--font);
  font-size: 1.05rem;          /* same visual height as menu text */
  color:#fff;
  padding:.35rem .5rem;
  border:1px solid transparent;
}
.site-nav a[href$="about.html"]:hover{
  border-color:var(--border); background:rgba(255,255,255,.06);
}

/* Menu links (Row 2 of the nav grid) */
.site-nav a{
  grid-row:2;
  color:var(--muted); padding:.6rem .75rem; border:1px solid transparent;
}
.site-nav a:hover{ color:#fff; border-color:var(--border); background:rgba(255,255,255,.06) }

.nav-dropdown{ position:relative; display:inline-block }
.nav-submenu--row{
  display:none; position:absolute; top:100%; left:0; z-index:10;
  min-width: 12rem; background: rgba(8,10,18,.95);
  border: 1px solid var(--border); border-radius:.5rem; padding:.4rem;
  box-shadow: 0 16px 40px rgba(0,0,0,.6);
}
.nav-submenu--row a{ display:block; padding:.5rem .6rem; font-size:1rem }
.nav-dropdown:hover .nav-submenu--row{ display:flex; flex-direction:column }

/* Blurb (Row 3, full width) – injected via CSS so it appears on ALL pages */
.site-header::after{
  content: "Hi, it’s Reza. I write about math, tech, and fiction.";
  grid-row:3; grid-column: 1 / -1;
  color:var(--text);
  font-size: 1rem;
  line-height: 1.35;
  margin-top:.1rem;
  opacity:.95;
}
/* Hide any old blurb element that may exist in index.html */
.site-intro{ display:none !important; }

/* =======================
   Posts list (home & cats)
   ======================= */
.list-heading{ color:var(--muted); margin:0 0 .6rem; letter-spacing:.02em }
.posts-grid{
  display:grid; gap: 1rem;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}
.post-card{
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 1rem;
  border-radius: 0;              /* square corners everywhere */
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  text-decoration: none;
}
.post-card:hover, .post-card:focus-within{
  transform: translateY(-2px);
  border-color: rgba(158,193,255,.30);
  box-shadow: 0 16px 48px rgba(0,0,0,.55);
}
.post-title{ margin:0 0 .35rem; font-weight:600; font-size:1.08rem; line-height:1.2 }
.post-title a{ color:var(--text) }
.post-time{ color:var(--muted); font-size:.9em; display:block }
.post-meta{ color:var(--muted); margin:.35rem 0 0; font-size:.92em }
.post-card *{ word-break: normal; overflow-wrap: anywhere; }

/* =================
   Article page grid
   ================= */
.page-main{ width:min(100% - 2rem, var(--maxw)); margin-inline:auto }
article.post-card{ display:block }
.post-body{ font-size:1.02rem }
.post-body p{ margin:.9rem 0; text-indent: .8em; }
.post-body p:first-of-type,.post-body h2 + p,.post-body h3 + p{ text-indent:0 }

/* two-column layout inside the article border (never overlaps) */
.post-card.post-layout{
  display:grid;
  grid-template-columns: minmax(0,1fr) minmax(220px, 300px);
  gap: 1.25rem;
}

/* Blockquotes */
.post-body blockquote{
  margin:1.25rem 0; padding:.7rem .95rem 1rem 1rem;
  background: rgba(12,14,24,.18); border:1px solid var(--border);
  position:relative; border-left: 4px solid rgba(158,193,255,.35);
}
.post-body blockquote::before, .post-body blockquote::after{
  position:absolute; font-size: 2.6rem; line-height:1;
  color: rgba(158,193,255,.35);
  font-family: Georgia, "Times New Roman", Times, serif;
}
.post-body blockquote::before{ content:"“"; left:-.35rem; top:-.6rem; }
.post-body blockquote::after{ content:"”"; right:.35rem; bottom:-.9rem; }

/* Similar reads */
.similar-reads{ margin-top:1.25rem; padding:.75rem; background:var(--panel); border:1px solid var(--border); border-radius:0; }
.similar-reads h2{ margin:0 0 .5rem 0; font-size:1.05rem; color:var(--muted) }
#similar-list{ display:grid; gap:.5rem }
.similar-card{
  display:flex; flex-direction:column; gap:.1rem;
  padding:.55rem .6rem; border:1px solid var(--border); border-radius:0;
  background: rgba(10,12,22,.22); text-decoration:none; color:var(--text);
}
.similar-card:hover{ border-color: rgba(158,193,255,.35) }
.similar-card strong{ font-size:.98rem }
.similar-card span{ color:var(--muted); font-size:.88rem }

/* Footer */
.site-footer{ margin: 1.25rem auto }
.site-footer p{ margin:0 0 .25rem 0; color: var(--muted) }
.site-footer small{ color: var(--muted) }

/* Typewriter effect (titles) */
.typer{ border-right: 2px solid rgba(255,255,255,.85); white-space:normal; overflow:visible }
.caret-done{ border-right-color: transparent }
