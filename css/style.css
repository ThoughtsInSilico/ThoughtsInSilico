/* =========================================================
   Silico: Book of Genesis — Girassol titles, Stardos body,
   Cinzel only for Trvthnukes / Virtual History headings.
   Nav uses the body font (Stardos), normal casing.
   Index background (img/index-background.jpg) on Home hero.
   About banner (img/banner.jpg) for tile + full-screen fade.
   =======================================================*/

/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Girassol&family=Stardos+Stencil:wght@400;700&family=Cinzel:wght@400;600;700&display=swap');

/* ---------- Tokens ---------- */
:root{
  --bg: #0b0e10;
  --ink: #e8e6e3;
  --ink-dim: #cfcac3;
  --stroke: #232831;

  --sidebar-top: #0d0f1a;
  --sidebar-bot: #0a0d12;

  --shadow: 0 10px 30px rgba(0,0,0,.45);
  --r2: 14px;

  /* Added to support inline styles in posts */
  --border: var(--stroke);
  --muted: var(--ink-dim);
}

/* ---------- Base ---------- */
*{ box-sizing:border-box }
html,body{
  margin:0; padding:0; background:var(--bg); color:var(--ink);
  font:18px/1.7 'Stardos Stencil', system-ui, serif;
}
a{ color:var(--ink); text-decoration:none }
a:hover{ text-decoration:underline }
img{ max-width:100%; display:block }
hr{ border:0; height:1px; background:var(--stroke) }

/* ---------- Fonts by role ---------- */
.site-title{
  font-family:'Girassol', system-ui, serif;
  font-size: clamp(28px, 5vw, 46px);
  line-height:1.1; margin:0;
  text-shadow:0 0 .5px var(--ink), 0 0 24px rgba(0,0,0,.55);
}

/* Navigation links inherit body font (Stardos) — normal casing */
.sidebar nav a,
.site-header .site-nav > a,
.site-header .nav-dropdown > a,
.site-header .nav-submenu a{
  font-family: inherit;
}

/* Post titles (cards and full posts) use Girassol */
.post-card h3,
.post-card h3 a,
.post-title,
.post-title a,
h1.post-title,
article h1.post-title{
  font-family:'Girassol', system-ui, serif;
}

/* Cinzel for Trvthnukes/Virtual History headings ONLY */
.roman{ font-family:'Cinzel', serif; letter-spacing:.02em }

/* ---------- Layout ---------- */
.layout{ display:grid; grid-template-columns:280px 1fr; min-height:100vh; }
.sidebar{
  position:sticky; top:0; height:100vh; overflow-y:auto;
  background:linear-gradient(180deg, var(--sidebar-top), var(--sidebar-bot));
  border-right:1px solid var(--stroke);
  box-shadow: inset 0 0 24px rgba(0,0,0,.35);
  padding:22px 18px 28px;
}
.sidebar .brand{ margin-bottom:6px }
.sidebar nav h3{
  font-size:12px; color:var(--ink-dim);
  letter-spacing:.08em; margin:18px 0 8px;
}
.sidebar nav ul{ list-style:none; margin:0; padding:0 }
.sidebar nav li{ margin:2px 0 }
.sidebar nav a{
  display:block; padding:5px 8px;
  border-radius:8px; border:1px dashed transparent;
}

/* collapsible submenu */
.nav-submenu{ display:none; margin:4px 0 0 12px; padding:0; list-style:none; }
.nav-submenu.open{ display:block; }
.nav-toggle{ cursor:pointer }

/* prevent ‘Fiction’ toggler from looking like a link on hover */
.sidebar .nav-toggle:hover{ text-decoration:none }

.sidebar nav a:hover, .sidebar nav a:focus-visible{
  border-color:var(--stroke); background:rgba(255,255,255,.03); outline:none;
}

.anthems .anthem-item{ margin:8px 0; font-size:16px; color:var(--ink-dim); display:flex; gap:8px; align-items:center }
.sidebar audio{ width:100% }
.main{ min-height:100vh; overflow:hidden }

/* ---------- Home hero (index background) ---------- */
.hero{
  min-height: 62vh;
  background:url('../img/index-background.jpg') center/cover no-repeat fixed;
  border-bottom:1px solid var(--stroke);
}

/* ---------- Containers / cards ---------- */
.container{ width:min(1100px, 100% - 40px); margin:0 auto }
.section{ padding:28px 0 }
.posts-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap:16px;
}

.post-card, .feature-card, .anthem-card{
  background: transparent;
  border:1px dashed var(--stroke);
  border-radius:var(--r2);
  padding:14px;
  box-shadow:none;
}
.card{
  background:linear-gradient(180deg,#0d1116,#0a0d11);
  border:1px dashed var(--stroke); border-radius:var(--r2); padding:14px; box-shadow:var(--shadow);
}
.post-card h3{ margin:8px 0 6px }
.post-time, .post-meta{ color:var(--ink-dim) }
.post-body p, .post-card p, .card p{ text-align: justify }

/* ---------- Legacy post pages header (kept for future) ---------- */
.site-header{
  position: fixed; top:0; left:0; width:280px; height:100vh;
  padding:22px 18px 28px;
  background:linear-gradient(180deg, var(--sidebar-top), var(--sidebar-bot));
  border-right:1px solid var(--stroke);
  box-shadow: inset 0 0 24px rgba(0,0,0,.35);
  z-index: 10;
}
.site-header .site-title{ color:var(--ink); text-decoration:none }
.site-nav{ display:block }
.site-nav > a, .site-nav .nav-dropdown > a{
  display:block; padding:6px 8px; border-radius:8px; border:1px dashed transparent;
}
.site-nav > a:hover, .site-nav .nav-dropdown > a:hover{
  border-color:var(--stroke); background:rgba(255,255,255,.03)
}
.nav-dropdown{ margin:8px 0 0 }
.nav-submenu{ display:block; margin:6px 0 0 10px }
.page-main{ margin-left:280px; padding-top:14px }

/* ---------- About grid ---------- */
.about-grid{
  display:grid; grid-template-columns: repeat(6, 1fr); grid-auto-rows: 1fr;
  gap:0; border:1px solid var(--stroke);
}
.about-cell{
  border-right:1px solid var(--stroke);
  border-bottom:1px solid var(--stroke);
  padding:16px;
  background:linear-gradient(180deg,#0d1116,#0a0d11);
}
.about-cell h4{ margin:0 0 10px; font-size:16px; letter-spacing:.08em }
.span-3{ grid-column: span 3 } .span-2{ grid-column: span 2 } .span-1{ grid-column: span 1 } .span-6{ grid-column: span 6 }
.tall-2{ grid-row: span 2 }

/* (old) banner tile retained in case you re-use elsewhere */
.banner-tile{
  background:url('../img/banner.jpg') center/cover no-repeat;
  min-height: 260px;
}

/* About page: full-screen banner with soft fade.
   Center the image as if the sidebar didn't exist:
   shift by +140px (half of the 280px sidebar), and dim it. */
.about-banner{
  position:relative;
  height: 100vh;
  background:url('../img/banner.jpg') no-repeat fixed;
  background-size: cover;
  background-position: calc(50% + 140px) center; /* center of main area */
  -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);
          mask-image: linear-gradient(to bottom, transparent 0%, black 12%, black 88%, transparent 100%);
  margin:0;
}
.about-banner::after{
  content:"";
  position:absolute; inset:0;
  background: rgba(0,0,0,.38); /* dimmer overlay */
}

/* Anthem player styles (on About page grid) */
.anthem-player h4{ margin:0 0 10px; font-size:16px; letter-spacing:.08em }
.anthem-list{ list-style:none; margin:10px 0 8px; padding:0 }
.anthem-list li{ margin:6px 0; display:flex; gap:8px; align-items:center }
.anthem-list button{ font:inherit; padding:4px 8px; border:1px dashed var(--stroke); border-radius:8px; background:transparent; color:var(--ink); cursor:pointer }
.anthem-list button:hover{ background:rgba(255,255,255,.03) }
.anthem-controls{ display:flex; gap:8px; margin-top:10px }
.anthem-controls button{ font:inherit; padding:6px 10px; border:1px dashed var(--stroke); border-radius:8px; background:transparent; color:var(--ink); cursor:pointer }
.anthem-controls button:hover{ background:rgba(255,255,255,.03) }
.anthem-audio{ width:100%; margin-top:10px }

/* ---------- Divider ---------- */
.hr-dots{
  width:100%; height:1px;
  background:repeating-linear-gradient(90deg, transparent 0 6px, var(--stroke) 6px 7px);
  border:0; margin:14px 0 18px;
}

/* ---------- Responsive ---------- */
@media (max-width: 900px){
  .layout{ grid-template-columns:1fr }
  .sidebar{ position:relative; height:auto; border-right:none; border-bottom:1px solid var(--stroke) }
  .site-header{ position:relative; width:auto; height:auto }
  .page-main{ margin-left:0 }
  .about-grid{ grid-template-columns: repeat(2, 1fr) }
  /* on small screens, sidebar is stacked, so don't offset banner center */
  .about-banner{ background-position: center }
}
@media (max-width: 520px){
  .about-grid{ grid-template-columns: 1fr }
}
